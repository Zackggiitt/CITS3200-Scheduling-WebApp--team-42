/* uc.css â€” tidied */

/* =========================================
   Theme tokens
========================================= */
:root{
  --c-bg: #fff;
  --c-text: #111827;
  --c-muted: #6b7280;
  --c-line: #e5e7eb;
  --c-btn: #111827;
  --c-btn-hover: #1f2937;
  --c-pill-bg: #dbeafe;
  --c-pill-text: #3b82f6;
  --c-danger: #ef4444;
}

/* =========================================
   Header
========================================= */
.header { background: var(--c-bg); border-bottom: 1px solid var(--c-line); }
.container {
  max-width: 1200px; margin: 0 auto; padding: 6px 16px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}
.left, .right { display: flex; align-items: center; gap: 10px; }
.left { gap: 8px; }
.icon-school { color: var(--c-text); font-size: 18px; line-height: 1; }
.title { font-size: 16px; font-weight: 700; color: var(--c-text); white-space: nowrap; }

.icon-btn{ display:inline-flex; align-items:center; justify-content:center; padding:6px; border-radius:9999px; color:#4b5563; }
.icon-btn:hover{ background:#f3f4f6; }

.create-unit-btn{
  display:inline-flex; align-items:center; gap:6px; padding:6px 12px;
  background:var(--c-bg); border:1px solid #d1d5db; border-radius:8px; color:#374151; font-size:14px; line-height:1;
}
.create-unit-btn:hover{ background:#f9fafb; }
.icon-add{ font-size:16px; }

.notification-container{ position:relative; }
.notification-btn .material-icons{ font-size:20px; }
.notification-badge{
  position:absolute; top:-2px; right:-2px; height:16px; width:16px;
  background: var(--c-danger); color:#fff; font-size:11px; font-weight:700; border-radius:9999px;
  display:flex; align-items:center; justify-content:center; line-height:1;
}

.user{ display:inline-flex; align-items:center; gap:6px; color:#374151; white-space:nowrap; }
.icon-account{ font-size:18px; color:#6b7280; }
.user-name{ font-size:14px; }
.role-badge{
  display:inline-flex; align-items:center; height:22px; padding:0 10px; border-radius:9999px;
  background: var(--c-pill-bg); color: var(--c-pill-text); font-size:12px; font-weight:600; line-height:1; white-space:nowrap;
}

.logout-form{ margin:0; display:inline-flex; }
.logout-btn{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px; color:#4b5563;
  border:1px solid var(--c-line); border-radius:8px; background:var(--c-bg); font-size:14px; line-height:1;
}
.logout-btn:hover{ background:#f9fafb; color:var(--c-text); }
.icon-logout{ font-size:16px; }

/* =========================================
   Empty state (dashboard)
========================================= */
.empty-state-card{
  background:var(--c-bg); border:1px solid var(--c-line); border-radius:12px; padding:24px; text-align:center; max-width:400px;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
}
.empty-state-card .material-icons{ font-size:48px; color:var(--c-text); margin-bottom:12px; }
.empty-state-card h2{ font-size:16px; font-weight:600; margin-bottom:8px; color:var(--c-text); }
.empty-state-card p{ font-size:14px; color:#6b7280; margin-bottom:16px; line-height:1.5; }
.empty-state-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:6px; width:100%; padding:10px 14px;
  background:var(--c-btn); color:#fff; font-size:14px; font-weight:600; border-radius:6px; border:none; cursor:pointer; transition:background .2s;
}
.empty-state-btn:hover{ background:var(--c-btn-hover); }
.empty-state-btn .material-icons{ font-size:16px; }

/* =========================================
   Modal shell (used by wizard)
========================================= */
.modal-overlay{
  position:fixed; inset:0; background:rgba(17,24,39,.5); display:none; align-items:center; justify-content:center; z-index:50;
}
.modal-overlay.flex{ display:flex; }

.modal-box{
  background:var(--c-bg); border-radius:12px; width:100%; max-width:1100px;
  height:88vh; display:flex; flex-direction:column; position:relative; overflow:hidden;
}

/* Close */
.modal-close{ position:absolute; top:14px; right:18px; color:#9ca3af; font-size:16px; line-height:1; }
.modal-close:hover{ color:var(--c-text); }

/* Title area */
.modal-top{ padding:20px 28px 8px 28px; }
.modal-title h1{ font-size:22px; font-weight:700; color:var(--c-text); margin:0 0 4px 0; }
.modal-title p{ margin:0; font-size:14px; color:var(--c-muted); }

/* Stepper */
.modal-steps{
  display:grid; grid-template-columns:repeat(4,1fr); align-items:center;
  justify-content:space-between; padding:12px 28px; border-bottom:1px solid var(--c-line); font-size:14px; color:var(--c-muted);
}
.modal-steps .step{ display:flex; align-items:center; gap:10px; justify-content:center; position:relative; }
.modal-steps .step span{
  width:26px; height:26px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center;
  border:1px solid #d1d5db; background:#fff; color:#6b7280; font-size:12px; font-weight:600;
}
.modal-steps .step.active{ color:var(--c-text); }
.modal-steps .step.active span{ background:var(--c-text); color:#fff; border-color:var(--c-text); }
.modal-steps .step:not(:last-child)::after{
  content:""; width:56px; height:2px; background:var(--c-line); margin-left:14px; border-radius:999px;
}

/* Body (scrolls) */
.modal-form{
  padding:28px 28px 16px 28px; overflow:auto; flex:1;
}
.wizard-step.hidden{ display:none; }
.modal-form h2{ font-size:20px; font-weight:700; text-align:center; color:var(--c-text); margin:8px 0 6px; }
.modal-form .subtext{ text-align:center; color:var(--c-muted); font-size:14px; margin-bottom:24px; }

/* Inputs */
.form-grid{ display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-bottom:14px; }
.form-group label{ display:block; font-size:13px; font-weight:600; color:#374151; margin-bottom:6px; }
.form-group input, .form-group select, .form-group textarea{
  width:100%; background:#f3f4f6; border:1px solid var(--c-line); border-radius:8px; padding:10px 12px; font-size:14px; color:var(--c-text);
}
.form-group textarea{ resize:vertical; }
.form-group input:focus, .form-group select:focus, .form-group textarea:focus{
  outline:none; border-color:var(--c-text); box-shadow:0 0 0 3px rgba(17,24,39,.08);
}

/* Footer (pinned) */
.modal-footer{
  flex-shrink:0; position:relative; z-index:30; background:var(--c-bg); border-top:1px solid var(--c-line);
  padding:12px 20px; display:flex; justify-content:flex-end; gap:10px;
}
.modal-footer::before{
  content:""; position:absolute; left:0; right:0; top:-8px; height:8px; box-shadow:0 -6px 12px rgba(0,0,0,.06) inset; pointer-events:none;
}
.btn-cancel{
  padding:8px 14px; border:1px solid var(--c-line); background:var(--c-bg); color:#374151; border-radius:8px; font-size:14px;
}
.btn-cancel:hover{ background:#f9fafb; }
.btn-primary{
  padding:8px 18px; background:var(--c-btn); color:#fff; border:none; border-radius:8px;
  font-size:14px; font-weight:700; display:inline-flex; align-items:center; gap:6px;
}
.btn-primary:hover{ background:var(--c-btn-hover); }

/* =========================================
   Custom Select
========================================= */
.select{ position:relative; width:100%; }
.select-trigger{
  width:100%; background:#f3f4f6; border:1px solid var(--c-line); border-radius:8px;
  padding:10px 40px 10px 12px; font-size:14px; color:var(--c-text);
  display:flex; align-items:center; justify-content:space-between; text-align:left;
}
.select-trigger:hover{ background:#eef0f3; }
.select-trigger:focus{ outline:none; border-color:var(--c-text); box-shadow:0 0 0 3px rgba(17,24,39,.08); }
.select-caret{ font-size:20px; color:#6b7280; }
.select-list{
  position:absolute; top:calc(100% + 6px); left:0; right:0; z-index:60;
  background:#fff; border:1px solid var(--c-line); border-radius:10px;
  box-shadow:0 12px 24px rgba(0,0,0,.08), 0 4px 8px rgba(0,0,0,.05);
  padding:6px 0; list-style:none; margin:0; display:none;
}
.select.open .select-list{ display:block; }
.option{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  padding:10px 12px; font-size:14px; color:var(--c-text); cursor:pointer;
}
.option:hover{ background:#f3f4f6; }
.option .check{ font-size:18px; color:var(--c-text); opacity:0; }
.option.selected .check{ opacity:1; }

/* =========================================
   Step 2: Date pickers (Flatpickr)
========================================= */
.date-grid{ display:flex; justify-content:center; gap:48px; margin:2rem 0; flex-wrap:wrap; }
.date-card{ background:#fff; border:1px solid var(--c-line); border-radius:12px; padding:20px; min-width:300px; }
.date-card label{ display:block; font-size:14px; font-weight:600; color:#374151; margin-bottom:8px; }

.sr-only{ position:absolute!important; width:1px!important; height:1px!important; padding:0!important; margin:-1px!important; overflow:hidden!important; clip:rect(0,0,0,0)!important; white-space:nowrap!important; border:0!important; }

.flatpickr-calendar.inline{ border:none; box-shadow:none; width:100%; }
.flatpickr-calendar .flatpickr-months{ margin-bottom:6px; }
.flatpickr-calendar .flatpickr-days{ border:1px solid var(--c-line); border-radius:8px; }
.flatpickr-day:hover{ background:#f3f4f6; }
.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange{
  background:var(--c-text)!important; color:#fff!important; border-color:var(--c-text)!important;
}

/* Date summary chip */
.summary-card{
  max-width:700px; margin:2rem auto 0; padding:14px 18px; background:#f9fafb;
  border:1px solid var(--c-line); border-radius:10px; display:flex; align-items:center; gap:12px; font-size:15px; color:#374151;
}
.summary-icon{
  font-size:18px; color:var(--c-text); background:#f3f4f6; border-radius:9999px; width:28px; height:28px;
  display:inline-flex; align-items:center; justify-content:center;
}

/* =========================================
   Step 3A: Upload cards
========================================= */
.setup-card{ border:1px solid var(--c-line); border-radius:12px; background:#fff; padding:16px; }
.setup-card__header{ display:flex; gap:12px; align-items:flex-start; margin-bottom:12px; }
.setup-card__title{ font-weight:700; color:var(--c-text); margin:0; }
.setup-card__hint{ margin:2px 0 0 0; color:var(--c-muted); font-size:14px; }

.upload-row{ display:grid; grid-template-columns:1fr; gap:16px; }
@media (min-width:640px){ .upload-row{ grid-template-columns:1fr 1fr; } }
.upload-col{ background:#fff; border:1px solid var(--c-line); border-radius:12px; padding:14px; }

.hint-title{ font-weight:700; color:var(--c-text); margin-bottom:4px; }
.hint-sub{ color:var(--c-muted); font-size:13px; margin:0 0 10px; }

.filepicker{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.filepicker-input{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.filepicker-btn{
  display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border:1px dashed #d1d5db; background:#f9fafb; border-radius:8px;
  font-weight:600; color:var(--c-text); cursor:pointer;
}
.filepicker-btn:hover{ background:#f3f4f6; }
.filepicker-name{ max-width:100%; font-size:14px; color:#374151; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.upload-status{ margin-top:10px; font-size:14px; border-radius:8px; padding:10px 12px; border:1px solid transparent; }
.upload-status.success{ background:#ecfdf5; border-color:#10b981; color:#065f46; }
.upload-status.error{ background:#fef2f2; border-color:var(--c-danger); color:#7f1d1d; }

/* =========================================
   Step 3B: Calendar + Inspector
========================================= */
/* Toolbar */
.cal-toolbar{
  display:flex; align-items:center; gap:8px; padding:10px 12px; background:#fff; border:1px solid var(--c-line);
  border-radius:10px; margin-bottom:10px;
}
.cal-btn{ font-size:14px; padding:6px 10px; border:1px solid #d1d5db; border-radius:8px; background:#fff; }
.cal-btn:hover{ background:#f9fafb; }
.cal-btn.primary{ background:var(--c-btn); color:#fff; border-color:var(--c-btn); }
.cal-btn.danger{ border-color:#ef4444; color:#b91c1c; }
.cal-title{ margin-left:8px; }
.cal-checkbox{ width:16px; height:16px; }

/* FullCalendar container + scroll fix */
#calendar_wrap{ background:#fff; border:1px solid var(--c-line); border-radius:12px; padding:10px; }
#calGrid{ min-height:560px; }
.fc .fc-view-harness{ height:auto!important; }
.fc .fc-scroller{ overflow:visible!important; }
.fc .fc-timegrid-body{ overflow:visible!important; }

/* Inspector */
.cal-inspector{
  position:fixed; right:24px; top:90px; width:320px; background:#fff; border:1px solid var(--c-line);
  border-radius:12px; box-shadow:0 10px 24px rgba(0,0,0,.08); display:flex; flex-direction:column;
}
.cal-inspector__header{ padding:12px 14px; border-bottom:1px solid var(--c-line); font-weight:700; }
.cal-inspector__body{ padding:12px 14px; font-size:14px; }
.cal-inspector__body .row{ display:flex; justify-content:space-between; margin-bottom:6px; color:#374151; }
.cal-input{ width:100%; border:1px solid #d1d5db; border-radius:8px; padding:8px; }
.cal-inspector__footer{ display:flex; gap:8px; justify-content:flex-end; padding:10px 14px; border-top:1px solid var(--c-line); }

/* --- Calendar shell becomes the positioning context for the inspector --- */
#calendar_wrap {
  position: relative;                 /* NEW: anchor for absolute inspector */
  background: #fff;
  border: 1px solid var(--c-line);
  border-radius: 12px;
  padding: 10px;
  overflow: hidden;                   /* hide panel while it slides */
}

/* --- Inspector: slide-in panel --- */
.cal-inspector {
  position: absolute;                 /* was fixed */
  top: 0;
  right: 0;
  height: 100%;
  width: 360px;                       /* tweak as you like */
  background: #fff;
  border-left: 1px solid var(--c-line);
  box-shadow: -10px 0 24px rgba(0,0,0,.08);
  display: flex;
  flex-direction: column;

  transform: translateX(100%);        /* off-canvas by default */
  transition: transform .25s ease;
}

/* visible state */
.cal-inspector.open {
  transform: translateX(0);
}

.cal-inspector__header { padding: 14px; border-bottom: 1px solid var(--c-line); font-weight: 700; }
.cal-inspector__body   { padding: 14px; font-size: 14px; overflow: auto; } /* scroll body if long */
.cal-inspector__footer { padding: 10px 14px; border-top: 1px solid var(--c-line); display:flex; gap:8px; justify-content:flex-end; }

.cal-inspector {
  z-index: 60;              /* above calendar */
  transform: translateX(12px);
  opacity: 0;
  transition: transform .18s ease, opacity .18s ease;
}
.cal-inspector.open {
  transform: translateX(0);
  opacity: 1;
}
